server:
  port: 7997
  shutdown: graceful

spring:
  security:
    oauth2:
      resourceserver:
        jwk:
          issuer-uri: http://localhost:${server.port}
  application:
    name: pcc-puppet-enforcer-realm
  main:
    web-application-type: reactive

  data:
    mongodb:
      auto-index-creation: true
      uri: mongodb://pcc:123456789@mbp.lan:27017/fuimos

  cloud:
    vault:
      enabled: false
  http:
    services:
      pcc-realm-organization:
        url: http://localhost:${server.port}
        path: /realm/organization
      pcc-realm-department:
        url: http://localhost:${server.port}
        path: /realm/department
      pcc-realm-member:
        url: http://localhost:${server.port}
        path: /realm/member
      pcc-realm-passport:
        url: http://localhost:${server.port}
        path: /realm/passport
      provider-rest-countries:
        url: http://localhost:${server.port}
        path: /rest-countries
      provider-keycloak:
        url: http://localhost:${server.port}
        path: /keycloak
      provider-vault:
        url: http://localhost:${server.port}
        path: /vault

management:
  tracing:
    baggage:
      correlation:
        enabled: true
        fields:
          - track-id
      remote-fields:
        - track-id
    sampling:
      probability: 0.0
    propagation:
      type: w3c

provider:
  keycloak:
    adminClientId: adminClientId
    clientId: testPlaceholderClient
    clientSecret: testPlaceholderSecret
    realm: test
  vault:
    uri: http://localhost:${server.port}/vault
    token: testPlaceholderToken

logging:
  pattern:
    console: "[${spring.application.name}] [%t] [%-5p] [%X{traceId}] [%X{spanId}] [%X{track-id}] [%logger{15}] [%m]%n"
  level:
    reactor:
      netty:
        http:
          client: DEBUG
    io.micrometer: INFO
    pcc: DEBUG
    web: debug